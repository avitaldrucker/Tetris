{"version":3,"sources":["webpack:///webpack/bootstrap 2c6031a49c5251ad93ca","webpack:///./lib/piece.js","webpack:///./lib/game.js","webpack:///./lib/view.js","webpack:///./lib/board.js","webpack:///./lib/spinnable_piece.js","webpack:///./lib/toggling_piece.js","webpack:///./lib/tetris.js"],"names":["Piece","options","symbol","coords","draw","canMoveSideways","oldCoords","clearBoard","addModifiedCoords","center","fallen","moveDown","direction","aboveTop","atBorder","neighborsAt","pos","board","gridAt","coordsIncluded","dir","i","length","row","col","neighborPos","differentPieceAtPos","borderIndex","coord","ownRow","ownCol","clockwise","forEach","push","rotateCoord","centerRow","centerCol","posFromCenter","rotatedCoords","validCoords","grid","validPos","line","num","iPiece","spinnable","ctx","prepareDraw","fillStyle","addSquare","jPiece","lPiece","oPiece","sPiece","tPiece","zPiece","PIECES","clearRect","strokeStyle","lineWidth","x","y","fillRect","strokeRect","Game","mostRecentLevel","level","gameOverButtonCreated","switchView","timeDelta","over","scoreContainer","document","getElementById","scoreboardToRemove","removeChild","appendChild","createScoreboard","scoreboard","createElement","id","createLevelHeader","createScoreHeader","levelHeader","levelText","createTextNode","scoreHeader","scoreText","score","div","createGameOverNotification","createPlayButton","root","header","button","innerHTML","update","clearPoints","rowsCleared","fallenPiecesPoints","piecesFallen","Math","floor","moveLeft","moveRight","spin","drop","View","game","bindKeyHandlers","bind","intervalTime","downKeyPressed","switchedView","keysBound","replay","addTileManipulationListeners","addSpeedResetListener","clearInterval","interval","setInterval","gameControlCodes","addEventListener","e","includes","which","preventDefault","accelerateDescent","keyUpCallback","key","requestAnimationFrame","animate","time","step","newLevel","setTimeout","drawRestartGame","main","gameOverContainer","className","createGameOverHeader","createPlayAgainButton","start","gameOverHeader","gameOverHeaderText","textContent","Board","spawnPiece","newGrid","dropped","emptyRow","j","fallingPiece","arr1","arr2","divToRemove","drawGrid","drawRow","rowIdx","ul","li","tile","nextPiece","randomPiece","clearPreview","clearRows","topPiece","updatePreview","nonFullRows","unshift","full","arr","randIndex","random","SpinnablePiece","prototype","call","TogglingPiece","rotated","canvas","width","height","getContext"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2c6031a49c5251ad93ca","export default class Piece {\n\n  constructor(options) {\n    this.symbol = options[\"symbol\"];\n    this.coords = options[\"coords\"];\n    this.draw = options.draw;\n  }\n\n  moveLeft() {\n    if (this.canMoveSideways(\"l\")) {\n\n      let oldCoords = this.coords;\n      this.clearBoard();\n\n      this.addModifiedCoords(\"col\", -1);\n\n      this.center = [this.center[0], this.center[1] - 1];\n    }\n  }\n\n  drop() {\n    while (!this.fallen()) {\n      this.moveDown();\n    }\n  }\n\n  canMoveSideways(direction) {\n    return !this.fallen()\n      && !this.aboveTop()\n      && !this.atBorder(direction)\n      && !this.neighborsAt(direction);\n  }\n\n  differentPieceAtPos(pos) {\n    return this.board.gridAt(pos) && !this.coordsIncluded(pos);\n  }\n\n  neighborsAt(dir) {\n    for (let i = 0; i < this.coords.length; i++) {\n      let [row, col] = this.coords[i];\n\n      let neighborPos = dir === \"l\" ? [row, col - 1] : [row, col + 1];\n\n      if (this.differentPieceAtPos(neighborPos)) { return true; }\n    }\n\n    return false;\n  }\n\n  moveRight() {\n    if (this.canMoveSideways(\"r\")) {\n      let oldCoords = this.coords;\n\n      this.clearBoard();\n\n      this.addModifiedCoords(\"col\", 1);\n\n      this.center = [this.center[0], this.center[1] + 1];\n    }\n  }\n\n  atBorder(dir) {\n    const borderIndex = dir === \"l\" ? 0 : 9;\n\n    for (let i = 0; i < this.coords.length; i++) {\n      let [row, col] = this.coords[i];\n      if (col === borderIndex) { return true; }\n    }\n\n    return false;\n  }\n\n  fallen() {\n    for (let i = 0; i < this.coords.length; i++) {\n      let [row, col] = this.coords[i];\n\n      if (row === 19 || this.differentPieceAtPos([row + 1, col])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  coordsIncluded(coord) {\n\n    for (let i = 0; i < this.coords.length; i++) {\n      let [ownRow, ownCol] = this.coords[i];\n\n      if (ownRow === coord[0] && ownCol === coord[1]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  rotatedCoords(clockwise) {\n    const coords = [];\n\n    this.coords.forEach((coord) => {\n      coords.push(this.rotateCoord(coord, clockwise));\n    }, this);\n\n    return coords;\n  }\n\n  rotateCoord(coord, clockwise) {\n    let [centerRow, centerCol] = this.center;\n\n    let posFromCenter = [coord[0] - centerRow, coord[1] - centerCol];\n    let [row, col] = posFromCenter;\n\n    if (clockwise) {\n      return [col + centerRow, (row * -1) + centerCol];\n    } else {\n      return [(col * -1) + centerRow, row + centerCol];\n    }\n  }\n\n  spin(clockwise) {\n\n    const rotatedCoords = this.rotatedCoords(clockwise);\n    if (this.validCoords(rotatedCoords)) {\n\n      this.clearBoard();\n\n      this.coords = [];\n\n      rotatedCoords.forEach((coord) => {\n        this.board.grid[coord[0]][coord[1]] = this;\n        this.coords.push(coord);\n      }, this);\n\n    }\n  }\n\n  validCoords(coords) {\n    for (let i = 0; i < coords.length; i++) {\n      if (this.validPos(coords[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  validPos(pos) {\n    let [row, col] = pos;\n\n    return row < 0\n      || row > 19\n      || col < 0\n      || col > 9\n      || this.differentPieceAtPos(pos);\n  }\n\n  moveDown() {\n    if (!this.aboveTop()) { this.clearBoard(); }\n\n    let oldCoords = this.coords;\n\n    this.addModifiedCoords(\"row\", 1);\n    this.center = [this.center[0] + 1, this.center[1]];\n  }\n\n  addModifiedCoords(line, num) {\n    const oldCoords = this.coords;\n    this.coords = [];\n\n    oldCoords.forEach((coord) => {\n      let [row, col] = coord;\n      line === \"row\" ? (row = row + num) : (col = col + num);\n\n      this.coords.push([row, col]);\n      this.board.grid[row][col] = this;\n    }, this);\n  }\n\n  clearBoard() {\n    this.coords.forEach((coord) => {\n      let [row, col] = coord;\n      this.board.grid[row][col] = null;\n    }, this);\n  }\n\n  aboveTop() {\n    for (let i = 0; i < this.coords.length; i++) {\n      if (this.coords[i][0] === -1) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n\n}\n\n\n\n\n\n\n\n\n\nconst iPiece = {\n  symbol: \"I\",\n  coords: [[-1, 3], [-1, 4], [-1, 5], [-1, 6]],\n  center: [-1, 4],\n  spinnable: false,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"cyan\";\n\n    addSquare(ctx, 0, 0);\n    addSquare(ctx, 25, 0);\n    addSquare(ctx, 50, 0);\n    addSquare(ctx, 75, 0);\n  }\n};\n\nconst jPiece = { symbol: \"J\",\n  coords: [[-1, 4], [-1, 5], [-1, 6], [0, 6]],\n  center: [-1, 5],\n  spinnable: true,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"blue\";\n\n    addSquare(ctx, 12.5, 0);\n    addSquare(ctx, 37.5, 0);\n    addSquare(ctx, 62.5, 0);\n    addSquare(ctx, 62.5, 25);\n  }\n};\n\nconst lPiece = {\n  symbol: \"L\",\n  coords: [[-1, 4], [-1, 5], [0, 4], [-1, 6]],\n  center: [-1, 5],\n  spinnable: true,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"orange\";\n\n    addSquare(ctx, 12.5, 0);\n    addSquare(ctx, 12.5, 25);\n    addSquare(ctx, 37.5, 0);\n    addSquare(ctx, 62.5, 0);\n  }\n}\n\nconst oPiece = {\n  symbol: \"O\",\n  coords: [[-1, 4], [-1, 5], [0, 4], [0, 5]],\n  center: [-1, 4],\n  spinnable: false,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"yellow\";\n\n    addSquare(ctx, 25, 0);\n    addSquare(ctx, 25, 25);\n    addSquare(ctx, 50, 0);\n    addSquare(ctx, 50, 25);\n  }\n};\n\nconst sPiece = {\n  symbol: \"S\",\n  coords: [[0, 4], [-1, 5], [0, 5], [-1, 6]],\n  center: [-1, 5],\n  spinnable: false,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"green\";\n\n    addSquare(ctx, 12.5, 25);\n    addSquare(ctx, 37.5, 25);\n    addSquare(ctx, 37.5, 0);\n    addSquare(ctx, 62.5, 0);\n  }\n};\n\nconst tPiece = {\n  symbol: \"T\",\n  coords: [[-1, 4], [-1, 5], [0, 5], [-1, 6]],\n  center: [-1, 5],\n  spinnable: true,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"purple\";\n\n    addSquare(ctx, 12.5, 0);\n    addSquare(ctx, 37.5, 0);\n    addSquare(ctx, 62.5, 0);\n    addSquare(ctx, 37.5, 25);\n  }\n};\n\nconst zPiece = {\n  symbol: \"Z\",\n  coords: [[-1, 4], [-1, 5], [0, 5], [0, 6]],\n  center: [-1, 5],\n  spinnable: false,\n  draw: (ctx) => {\n    prepareDraw(ctx);\n    ctx.fillStyle = \"red\";\n\n    addSquare(ctx, 12.5, 0);\n    addSquare(ctx, 37.5, 0);\n    addSquare(ctx, 37.5, 25);\n    addSquare(ctx, 62.5, 25);\n  }\n};\n\nPiece.PIECES = [iPiece, jPiece, lPiece, oPiece, sPiece, tPiece, zPiece];\n\n\n const prepareDraw = (ctx) => {\n   ctx.clearRect(0, 0, 300, 300);\n   ctx.strokeStyle = \"black\";\n   ctx.lineWidth = 1;\n }\n\n const addSquare = (ctx, x, y) => {\n   ctx.fillRect(x, y, 25, 25);\n   ctx.strokeRect(x, y, 25, 25);\n }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/piece.js","import Board from './board';\n\nexport default class Game {\n\n  constructor(ctx) {\n    this.board = new Board(ctx);\n    this.mostRecentLevel = this.level();\n    this.gameOverButtonCreated = false;\n    this.switchView = false;\n    this.ctx = ctx;\n  }\n\n  step(timeDelta) {\n    this.draw();\n    this.board.draw();\n    if (this.board.over()) { this.switchView = true; }\n  }\n\n  draw() {\n    if (!this.over()) {\n      let scoreContainer = document.getElementById(\"score-container\");\n\n      const scoreboardToRemove = document.getElementById(\"scoreboard\");\n\n      if (scoreboardToRemove) {\n        scoreContainer.removeChild(scoreboardToRemove);\n      }\n\n      scoreContainer.appendChild(this.createScoreboard());\n    }\n\n  }\n\n  createScoreboard() {\n    const scoreboard = document.createElement(\"div\");\n    scoreboard.id = \"scoreboard\";\n\n    scoreboard.appendChild(this.createLevelHeader());\n    scoreboard.appendChild(this.createScoreHeader());\n    return scoreboard;\n  }\n\n  createLevelHeader() {\n    let levelHeader = document.createElement(\"H1\");\n    let levelText = document.createTextNode(\"Level: \" + this.level());\n    levelHeader.appendChild(levelText);\n    return levelHeader;\n  }\n\n  createScoreHeader() {\n    let scoreHeader = document.createElement(\"H1\");\n    scoreHeader.id = \"score-header\";\n    let scoreText = document.createTextNode(\"Score: \" + this.score());\n    scoreHeader.appendChild(scoreText);\n    return scoreHeader;\n  }\n\n  createGameOverSection() {\n    const div = document.createElement(\"div\");\n    div.id = \"game-over\";\n\n    div.appendChild(this.createGameOverNotification());\n    div.appendChild(this.createPlayButton());\n\n    const root = document.getElementById(\"root\");\n    root.appendChild(div);\n  }\n\n  createGameOverNotification() {\n    let header = document.createElement(\"H1\");\n    let levelText = document.createTextNode(\"Game over!\");\n    header.appendChild(levelText);\n\n    return header;\n  }\n\n  createPlayButton() {\n    let button = document.createElement(\"button\");\n    button.id = \"play-again\";\n    button.innerHTML = \"Click to play again\";\n\n    return button;\n  }\n\n  update() {\n    this.board.update();\n  }\n\n  over() {\n    return this.board.over();\n  }\n\n  newLevel() {\n    if (this.level() > this.mostRecentLevel) {\n      this.mostRecentLevel = this.level();\n      return true;\n    }\n  }\n\n  score() {\n    const clearPoints = this.board.rowsCleared * 50;\n    const fallenPiecesPoints = this.board.piecesFallen * 15;\n\n    return clearPoints + fallenPiecesPoints;\n  }\n\n  level() {\n    return Math.floor(this.score() / 180) + 1;\n  }\n\n  moveLeft() {\n    this.board.moveLeft();\n  }\n\n  moveRight() {\n    this.board.moveRight();\n  }\n\n  spin() {\n    this.board.spin();\n  }\n\n  drop() {\n    this.board.drop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import Game from './game';\n\nexport default class View {\n\n  constructor(game, ctx) {\n    this.game = game;\n    this.bindKeyHandlers = this.bindKeyHandlers.bind(this);\n    this.intervalTime = 600;\n    this.downKeyPressed = false;\n    this.switchedView = false;\n    this.keysBound = false;\n    this.ctx = ctx;\n    this.replay = false;\n  }\n\n  bindKeyHandlers() {\n    this.addTileManipulationListeners();\n    this.addSpeedResetListener();\n  }\n\n  accelerateDescent() {\n    clearInterval(this.interval);\n    this.interval = setInterval(this.game.update.bind(this.game), 40);\n    this.downKeyPressed = true;\n  }\n\n  addTileManipulationListeners() {\n    const gameControlCodes = [37, 38, 39, 40, 32];\n\n    document.addEventListener(\"keydown\", (e) => {\n\n      if (gameControlCodes.includes(e.which)) { e.preventDefault(); }\n\n      switch(e.which) {\n          case 37:\n          this.game.moveLeft();\n          break;\n\n          case 38:\n          this.game.spin();\n          break;\n\n          case 39:\n          this.game.moveRight();\n          break;\n\n          case 40:\n          if (!this.downKeyPressed) { this.accelerateDescent(); }\n          break;\n\n          case 32:\n          this.game.drop();\n          break;\n      }\n    });\n  }\n\n  addSpeedResetListener() {\n    const keyUpCallback = (e) => {\n    }\n    document.addEventListener(\"keyup\", (e) => {\n      if (e.key === \"ArrowDown\") {\n        clearInterval(this.interval);\n        this.interval = setInterval(this.game.update.bind(this.game), this.intervalTime);\n        this.downKeyPressed = false;\n      }\n    });\n  }\n\n  start() {\n    if (!this.keysBound) {\n      this.bindKeyHandlers();\n      this.keysBound = true;\n    }\n\n    requestAnimationFrame(this.animate.bind(this));\n\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n    this.interval = setInterval(this.game.update.bind(this.game), this.intervalTime);\n  }\n\n  animate(time) {\n    this.game.step();\n\n    if (this.game.newLevel()) {\n      clearInterval(this.interval);\n      this.intervalTime -= 40;\n      this.interval = setInterval(this.game.update.bind(this.game), this.intervalTime);\n    }\n\n    if (this.game.switchView && !this.switchedView) {\n      this.intervalTime = 600;\n      setTimeout(this.drawRestartGame.bind(this), 1000);\n      this.switchedView = true;\n    }\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  drawRestartGame() {\n    const main = document.getElementById(\"main\");\n    const gameOverContainer = document.getElementById(\"game-over-container\");\n    if (main) { main.className = \"invisible\"; }\n\n    gameOverContainer.className = \"visible\";\n\n      if (!this.replay) {\n        gameOverContainer.appendChild(this.createGameOverHeader());\n        gameOverContainer.appendChild(this.createPlayAgainButton());\n        this.replay = true;\n      }\n\n      document.getElementById(\"button\").addEventListener(\"click\", (e) => {\n        let main = document.getElementById(\"main\");\n        main.className = \"visible\";\n        gameOverContainer.className = \"invisible\";\n        this.switchedView = false;\n        this.game = new Game(this.ctx);\n        this.start();\n      });\n  }\n\n  createGameOverHeader() {\n    const gameOverHeader = document.createElement(\"H1\");\n    gameOverHeader.id = \"game-over-header\";\n    const gameOverHeaderText = document.createTextNode(\"Game over\");\n    gameOverHeader.appendChild(gameOverHeaderText);\n\n    return gameOverHeader;\n  }\n\n  createPlayAgainButton() {\n    const button = document.createElement(\"button\");\n    button.textContent = \"Play again\";\n    button.id = \"button\";\n\n    return button;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/view.js","import Piece from './piece';\nimport TogglingPiece from './toggling_piece';\nimport SpinnablePiece from './spinnable_piece';\n\nexport default class Board {\n\n  constructor(ctx) {\n    this.level = 0;\n\n    this.spawnPiece();\n\n    this.grid = this.newGrid();\n    this.rowsCleared = 0;\n    this.piecesFallen = 0;\n\n    this.switchView = false;\n    this.ctx = ctx;\n\n    this.dropped = false;\n  }\n\n  newGrid() {\n    const grid = [];\n    for (let i = 0; i < 20; i++) { grid[i] = this.emptyRow(); }\n\n    return grid;\n  }\n\n  emptyRow() {\n    const row = [];\n    for (let j = 0; j < 10; j++) { row.push(null); }\n\n    return row;\n  }\n\n  spin() {\n    if (this.fallingPiece && !this.fallingPiece.aboveTop()) {\n      this.fallingPiece.spin();\n    }\n  }\n\n  arrayEqual(arr1, arr2) {\n    return arr1[0] === arr2[0] && arr1[1] === arr2[1];\n  }\n\n  draw() {\n    const root = document.getElementById(\"root\");\n\n    if (!root) { return; }\n\n    const divToRemove = document.getElementById(\"board\");\n    if (divToRemove) { root.removeChild(divToRemove); }\n\n    root.appendChild(this.drawGrid());\n  }\n\n  drawGrid() {\n    const div = document.createElement(\"div\");\n    div.id = \"board\";\n\n    for (let row = 0; row < this.grid.length; row++) {\n      div.appendChild(this.drawRow(row));\n    }\n\n    return div;\n  }\n\n  drawRow(rowIdx) {\n    const ul = document.createElement(\"ul\");\n    ul.className = \"board\";\n\n    for (let col = 0; col < this.grid[0].length; col++) {\n      let li = document.createElement(\"li\");\n      let tile = this.grid[rowIdx][col];\n\n      if (tile) {\n        li.className = tile.symbol + \" tile\";\n      } else {\n        li.className = \"tile\";\n      }\n\n      ul.appendChild(li);\n    }\n\n    return ul;\n  }\n\n  spawnPiece() {\n    if (this.fallingPiece) {\n      this.fallingPiece = this.nextPiece;\n    } else {\n      this.fallingPiece = this.randomPiece();\n      this.fallingPiece.board = this;\n    }\n\n    this.nextPiece = this.randomPiece();\n    this.nextPiece.board = this;\n  }\n\n  moveLeft() {\n    if (this.fallingPiece && !this.fallingPiece.aboveTop()) {\n      this.fallingPiece.moveLeft();\n    }\n  }\n\n  moveRight() {\n    if (this.fallingPiece && !this.fallingPiece.aboveTop()) {\n      this.fallingPiece.moveRight();\n    }\n  }\n\n  updatePreview() {\n    if (!this.over()) {\n      this.nextPiece.draw(this.ctx);\n    } else {\n      this.clearPreview();\n    }\n  }\n\n  clearPreview() {\n    this.ctx.clearRect(0, 0, 300, 300);\n  }\n\n  drop() {\n    if (this.fallingPiece.validCoords(this.fallingPiece.coords)) {\n      this.fallingPiece.drop();\n    }\n\n    if (!this.over()) {\n      if (!this.dropped) { this.piecesFallen += 1; }\n      this.clearRows();\n      this.spawnPiece();\n    }\n    this.dropped = true;\n  }\n\n  update() {\n    this.dropped = false;\n    const topPiece = this.fallingPiece.aboveTop();\n    if (!this.fallingPiece.fallen()) { this.fallingPiece.moveDown(); }\n\n    if (topPiece) { this.updatePreview(); }\n\n    if (this.fallingPiece.fallen() && !this.over()) {\n      this.piecesFallen += 1;\n      this.clearRows();\n      this.spawnPiece();\n    }\n  }\n\n  gridAt(pos) {\n   let [row, col] = pos;\n   return this.grid[row][col];\n  }\n\n  over() {\n    return this.fallingPiece\n      && this.fallingPiece.aboveTop()\n      && this.fallingPiece.fallen();\n  }\n\n  clearRows() {\n    const newGrid = this.nonFullRows();\n\n    while (newGrid.length < 20) {\n      this.rowsCleared += 1;\n      newGrid.unshift(this.emptyRow());\n    }\n\n    this.grid = newGrid;\n  }\n\n  nonFullRows() {\n    const newGrid = [];\n\n    this.grid.forEach((row) => {\n      if (!this.full(row)) { newGrid.push(row); }\n    });\n\n    return newGrid;\n  }\n\n  full(arr) {\n    for (let i = 0; i < arr.length; i++) {\n      if (!arr[i]) { return false; }\n    }\n\n    return true;\n  }\n\n  randomPiece() {\n    const randIndex = Math.floor(Math.random() * Piece.PIECES.length);\n    const options = Piece.PIECES[randIndex];\n    if (options.spinnable && options.center) {\n      return new SpinnablePiece(options);\n    } else {\n      return new TogglingPiece(options);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","import Piece from './piece';\n\nexport default class SpinnablePiece extends Piece {\n  constructor(options) {\n    super(options);\n    this.center = options.center;\n  }\n\n  spin() {\n    Piece.prototype.spin.call(this, true);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/spinnable_piece.js","import Piece from './piece';\n\n\nexport default class TogglingPiece extends Piece {\n  constructor(options) {\n    super(options);\n    this.rotated = false;\n    this.center = options.center;\n  }\n\n  spin() {\n     if (this.rotated && this.symbol !== \"O\") {\n       Piece.prototype.spin.call(this, false);\n       this.rotated = false;\n     } else if (this.symbol !== \"O\"){\n       Piece.prototype.spin.call(this, true);\n       this.rotated = true;\n     }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/toggling_piece.js","import View from './view';\nimport Game from './game';\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const canvas = document.getElementById(\"canvas\");\n  canvas.width = 100;\n  canvas.height = 50;\n  const ctx = canvas.getContext(\"2d\");\n\n  const game = new Game(ctx);\n  new View(game, ctx).start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tetris.js"],"sourceRoot":""}